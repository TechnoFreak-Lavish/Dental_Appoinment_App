<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<style>
    body {
        background: linear-gradient(to right, #10f8a3, #dcf0f1);
        display: flex;
        height: 100vh;
        align-items: center;
        justify-content: center;
    }
    .card {
        width: 100%;
        max-width: 450px;
    }
</style>
<body>
    <div class="card p-4 shadow-lg">
        <h2 class="text-center mb-3">Book an Appointment</h2>
        <form id="appointmentForm">
            <div class="mb-3">
                <input type="text" id="patientName" class="form-control" placeholder="Full Name" required>
            </div>
            <div class="mb-3">
                <input type="email" id="patientEmail" class="form-control" placeholder="Email" required>
            </div>
            <div class="mb-3">
                <input type="tel" id="patientPhone" class="form-control" placeholder="Phone" required>
            </div>
            <div class="mb-3">
                <label for="clinicSelect" class="form-label">Select Clinic</label>
                <select id="clinicSelect" class="form-control" required>
                    <option value="" disabled selected>Select a clinic</option>
                    <option value="Smile Dental Care">Smile Dental Care</option>
                    <option value="Bright Smiles Dental">Bright Smiles Dental</option>
                    <option value="Pearl Dental Clinic">Pearl Dental Clinic</option>
                    <option value="Family Dental Clinic">Family Dental Clinic</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="appointmentDate" class="form-label">Select Date</label>
                <input type="date" id="appointmentDate" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="appointmentTime" class="form-label">Select Time Slot</label>
                <select id="appointmentTime" class="form-control" required>
                    <option value="" disabled selected>Select a time slot</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary w-100">Book Appointment</button>
        </form>
    </div>

    <script>
        // Restrict date selection to today or future dates
        document.addEventListener("DOMContentLoaded", function() {
            let today = new Date().toISOString().split('T')[0]; // Get today's date in YYYY-MM-DD format
            document.getElementById("appointmentDate").setAttribute("min", today);
        });
        
        // Function to generate 30-minute time slots from 9:00 AM to 5:00 PM
        function generateTimeSlots() {
            let timeSlots = [];
            let startHour = 9; // 9 AM
            let endHour = 17; // 5 PM
            let interval = 30; // 30 minutes

            for (let hour = startHour; hour < endHour; hour++) {
                for (let minutes = 0; minutes < 60; minutes += interval) {
                    let formattedHour = hour > 12 ? hour - 12 : hour; // Convert to 12-hour format
                    let amPm = hour >= 12 ? "PM" : "AM";
                    let formattedMinutes = minutes === 0 ? "00" : minutes;
                    let timeSlot = `${formattedHour}:${formattedMinutes} ${amPm}`;
                    timeSlots.push(timeSlot);
                }
            }

            return timeSlots;
        }

        // Populate the dropdown with generated time slots
        document.addEventListener("DOMContentLoaded", function() {
            let timeSelect = document.getElementById("appointmentTime");
            let timeSlots = generateTimeSlots();
            
            timeSlots.forEach(time => {
                let option = document.createElement("option");
                option.value = time;
                option.textContent = time;
                timeSelect.appendChild(option);
            });
        });

        document.getElementById("appointmentForm").addEventListener("submit", function(event) {
            event.preventDefault();

            const name = document.getElementById("patientName").value;
            const email = document.getElementById("patientEmail").value;
            const phone = document.getElementById("patientPhone").value;
            const clinic = document.getElementById("clinicSelect").value;
            const date = document.getElementById("appointmentDate").value;
            const time = document.getElementById("appointmentTime").value;

            localStorage.setItem("appointmentName", name);
            localStorage.setItem("appointmentEmail", email);
            localStorage.setItem("appointmentPhone", phone);
            localStorage.setItem("appointmentClinic", clinic);
            localStorage.setItem("appointmentDate", date);
            localStorage.setItem("appointmentTime", time);

            window.location.href = "thankyou.html";
        });
    </script>
</body>
</html>
